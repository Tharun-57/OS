#include<stdio.h>
int main(){
int f,p,i,j,k,fault=0,time=0;
int mem[10],ref[20],last[10];
printf("Enter number of frames: ");
scanf("%d",&f);
printf("Enter number of pages: ");
scanf("%d",&p);
printf("Enter page reference string:\n");
for(i=0;i<p;i++)scanf("%d",&ref[i]);
for(i=0;i<f;i++){mem[i]=-1;last[i]=0;}
for(i=0;i<p;i++){
int pos=-1;
for(j=0;j<f;j++)
if(mem[j]==ref[i])pos=j;
if(pos==-1){
int lru=0;
for(j=1;j<f;j++)
if(last[j]<last[lru])lru=j;
mem[lru]=ref[i];
last[lru]=++time;
fault++;
}else last[pos]=++time;
}
printf("Total Page Faults = %d\n",fault);
return 0;
}
